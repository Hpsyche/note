# HTTP1.0和HTTP1.1的主要区别

|          | HTTP1.0                                                      | HTTP1.1                                                      | 备注                                                         |
| -------- | ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ |
| 长连接   | 需要使用Connection： keep-alive参数来告知服务器端要建立一个长连接 | 默认支持长连接                                               | HTTP是基于TCP/IP协议的，<font color=red>创建一个TCP连接是需要经过三次握手的</font>,有一定的开销，如果每次通讯都要重新建立连接的话，对性能有影响。因此最好能维持一个长连接，可以用个长连接来发多个请求。 |
| 节约带宽 | 一次性发送header和body                                       | HTTP 1.1支持只发送header信息(不带任何body信息)，如果服务器认为客户端有权限请求服务器，则返回100，否则返回401。客户端如果接受到100，才开始把请求body发送到服务器。<br />这样当服务器返回401的时候，客户端就可以不用发送请求body了，节约了带宽。 | HTTP1.1还支持传送内容的一部分。这样当客户端已经有一部分的资源后，只需要跟服务器请求另外的部分资源即可。这是支持文件断点续传的基础。 |
| HOST域   | 在HTTP1.0中认为每台服务器都绑定一个唯一的IP地址，因此，请求消息中的URL并没有传递主机名（hostname） | HTTP1.1的请求消息和响应消息都应支持Host头域，且请求消息中如果没有Host头域会报告一个错误（400 Bad Request） | 随着虚拟主机技术的发展，在一台物理服务器上可以存在多个虚拟主机，如tomcat，并且它们共享一个IP地址。 |



# HTTP1.1和HTTP2.0的主要区别

|            | HTTP1.1                                                      | HTTP2.0                                                      | 备注                                                         |
| ---------- | ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ |
| 多路复用   | HTTP1.1也可以多建立几个TCP连接，来支持处理更多并发的请求，但是创建TCP连接本身也是有开销的。 | 使用了多路复用的技术，做到同一个连接并发处理多个请求，而且并发请求的数量比HTTP1.1大了好几个数量级。 | TCP连接有一个预热和保护的过程，先检查数据是否传送成功，一旦成功过，则慢慢加大传输速度。因此对应瞬时并发的连接，服务器的响应就会变慢。所以最好能使用一个建立好的连接，并且这个连接可以支持瞬时并发的请求。 |
| 数据压缩   | HTTP1.1不支持header数据的压缩                                | HTTP2.0使用HPACK算法对header的数据进行压缩。（HPACK 中有2个索引表，分别是静态索引表和动态索引表。） | 数据体积小了，在网络上传输就会更快。                         |
| 服务器推送 |                                                              | 服务器除了对最初请求的响应外，服务器还可以额外的向客户端推送资源，而无需客户端明确的请求。 |                                                              |









