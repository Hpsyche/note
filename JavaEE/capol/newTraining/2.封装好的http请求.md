```js
import * as HTTP from '@/utils/http'

export default{
    /**
     * 登录
     */
    loginEncryption:params=>{
        "use strict";
        return HTTP.POST('/api/auth/auth/ltpa/train/newPwdLogin',params)
    }
}
```

```js
/**
 * Created by tongkaiqiang on 2019/2/21.
 */
import axios from 'axios'
import {Message, MessageBox,Notification} from 'element-ui';
import router from '../router'
import { getToken } from './auth'

axios.defaults.withCredentials = true
// axios.defaults.timeout = 5000

axios.interceptors.request.use(
    config => {
        if (getToken()) {
            //application/x-www-form-urlencoded
            //application/json;charset=UTF-8
            //config.headers['Content-Type'] = 'application/x-www-form-urlencoded';
            //config.headers['Access-Control-Allow-Headers'] = 'Authorization'
            config.headers.Authorization = getToken()
        }
        return config
    },
    error => {
        return Promise.reject(error)
    }
)
axios.interceptors.response.use(function (response) {
    const res = response.data
    if (response.status === 401 || res.status === 40101) {
        MessageBox.confirm('你已被登出，可以取消继续留在该页面，或者重新登录', '确定登出', {
            confirmButtonText: '重新登录',
            cancelButtonText: '取消',
            type: 'warning'
        }).then(() => {
            router.replace({
                path: 'login',
                query: {redirect: router.currentRoute.fullPath}
            })
            //location.reload(); // 为了重新实例化vue-router对象 避免bug
        }).catch(()=>{
            Notification({
                title: '提示',
                message:"取消登出",
                type: 'warning',
                duration: 2500
            })
        })
        return Promise.reject('error');
    }
    if (res.status === 40301) {
        Notification({
            title: '提示',
            message:"token过期，请重新登录！",
            type: 'warning',
            duration: 3500
        })
        router.push({
            path: "/login"
        });
        /*if(process.env.BASE_AUTO_LOGIN) {
            router.push({
                path: "/automaticLogin"
            });
        } else {
            router.push({
                path: "/login"
            });
        }*/
        return Promise.reject('error');
    }
    if (res.status === 40001) {
        Notification({
            title:'提示',
            message: '账户或密码错误！',
            type: 'warning',
            duration: 2500
        });
        return Promise.reject('error');
    }
    if (res.status === 40501) {
        Notification({
            title:'提示',
            message: '账户已存在错误！',
            type: 'warning',
            duration: 2500
        });
        return Promise.reject('error');
    }
    if (response.status !== 200 && res.status !== 200) {
        Message({
            message: res.message,
            type: 'error',
            duration: 5 * 1000
        });
    } else {
        return response;
    }
    if(res.status === 50001){
        Notification({
            title:'提示',
            message: res.message,
            type: 'warning',
            duration: 2500
        });
    } else {
        return response;
    }

}, function (error) {
    //  1.判断请求超时
    if (error.code === 'ECONNABORTED' && error.message.indexOf('timeout') !== -1) {
        Notification({
            title:'提示',
            message: '请求超时5000！',
            type: 'warning',
            duration: 2500
        });
        //console.log('请求超时5000')
        // return service.request(originalRequest);//例如再重复请求一次
    }

    // Do something with response error
    if (error && error.response) {
        if (error.response.status === 401) {
            router.push({
                path: "/login"
            });
        }
        if (error.response.status === 403) {
            router.push({
                path: "/error/403"
            });
        }
        if (error.response.status === 404) {
            router.push({
                path: "/error/404"
            });
        }
    } else {
        router.replace({
            path: 'login',
            query: {redirect: router.currentRoute.fullPath}
        })
    }
    return Promise.reject(error);
});

export const POST = (url, params) => {
    return axios.post(process.env.BASE_API_ROOT+`${url}`, params).then(res => res.data)
}

export const GET = (url, params) => {
    return axios.get(process.env.BASE_API_ROOT+`${url}`+'?time='+new Date().getTime(), {
        params: params
    }).then(res => res.data)
}

export const PUT = (url, params) => {
    return axios.put(process.env.BASE_API_ROOT+`${url}`, params).then(res => res.data)
}

export const DELETE = (url, params) => {
    return axios.delete(process.env.BASE_API_ROOT+`${url}`, {
        params: params
    }).then(res => res.data)
}

export const PATCH = (url, params) => {
    return axios.patch(process.env.BASE_API_ROOT+`${url}`, params).then(res => res.data)
}

```

```js
 _that.$API.gateLog.newPage(_that.listQuery).then(function (response) {
                    _that.list = response.data.rows;
                    _that.total = response.data.total;
                    _that.listLoading = false;
                }).catch(function (error) {
                    _that.listLoading = false;
                    console.log(error);
                }) 
```

