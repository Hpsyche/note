## 各层功能

Contrller层

* 接收及校验前端参数；
* 调用servie层
* 跳转或返回视图

Service层

* 调用DAO或其Service进行业务逻辑及事务处理

DAO层

* 操作数据库



## 项目结构

项目名：

项目名-master

二级子模块命名：

项目名-admin

项目名-blogcenter

.....

三级之模块：

项目名-admin-common

项目名-admin-server

项目名-admin-client

三级模块各目录结构：

**common目录**

com.公司名.admin.common

​												.entity

​														.dto

​														.vo

​												.helpers（业务相关的处理类）

​												.utils（工具包）

**client目录**

com.公司名.admin.client

​										.api

​											.hystrix

​												.....

​											接口类

**server目录**

com.公司名.admin.server

​										.entity

​											.dto

​											.vo

​										.web

​											.controller

​											.rpc （feign内部服务调用的接口）

​										.service

​											.接口类

​											.impl

​												具体实现类

​										.mapper

​										.helpers

​										.utils

注意：这里的entity是只有在server用到的entity，如果是公用的entity可以放在common下；



## 资源目录结构

src.main.resources

​							.docker（打包的docker脚本）

​							.initdb（初始化脚本）

​								.DDL（建表脚本）

​								.DML（数据初始化）

​							.mapper

​							其他配置文件

## 单元测试目录结构

src.test.java

​				.com.capol.admin

​											.UserSerivceTest

​											.AdminServiceTest

## 其他命名

#### 启动类命名

模块名称+BootStrap，例如AdminBootstrap

#### RPC命名

RPC名称+Rest，例如UserRest

#### 接口类命名

I+业务简称+service，例如IUserService

#### 接口实现类命名

业务简称+serviceImpl，例如UserServiceImpl

#### Mapper类命名

业务简称+mapper，例如UserMapper.java

#### Mapper映射文件命名

业务简称+mapper，例如UserMapper.xml

#### 常量类命名

业务简称+Constant，例如AdminConstant

#### 配置类命名

业务简称+Config，例如DBConfig

#### 定时任务类命名

业务简称+Scheduler，例如AdminScheduler

#### 工具类命名

业务简称+Utils，例如FileUtils

#### 拦截器类命名

业务简称+Interceptor，例如ToeknInterceptor

#### 过滤器类命名

业务简称+Filter，例如GlobalFilter

#### runner类命名

业务简称+Runner，例如AuthServerRunner

#### 系统配置文件（多环境）

bootstrap，例如bootstap.yml

application+dev，例如application-dev.yml（开发环境）

application+test，例如application-test.yml（测试环境）

applicatoin+prod，例如application-prod.yml（生存环境）

#### 日志配置文件（多环境）

logback-spring+dev，例如logback-spring-dev.yml

logback-spring+test，例如logback-spring-test.yml

logback-spring+prod，例如logback-spring-prod.yml

#### 接口类Mapper的方法命名

（XXX为实体名，YYY为条件描述，多重条件用简称描述）

新建：insert+XXX

修改：update+XXX

删除：delete+XXX+By+YYY

查询实体：select+XXX+By+YYY

## 数据库规范

### 列命名规范

* 主键列名统一为id；
* 普通列名无需使用前缀，但唯一约束列需加前缀“UK _ ”；
* 列名只允许用英文字母，下划线命名，不能用中文或者其他符号；
* 日期类型字段推荐以“ _ DATE”结尾命名，时间类型字段推荐以“ _ TIME”结尾命名；

### 前缀规范说明

表：T_

视图：VW_

索引：IDX_

函数：F_

过程：SP_

触发器：TRG_

### 时间类型

用DATETIME，不用TIMESTAMP

### 其他

* 定长长度使用char类型，长度直接取实际长度即可，类似于手机号字段;
* 状态字段设置为tinyint,同时备注写清楚不同数字代表的类型;
* 不在数据库中存储图片、文件等;
* 浮点数float在储存空间及运行效率上要优于精度数值类型decimal，但float与double会有舍入错误而decimal则可以提供更加准确的小数级精确运算不会有错误产生计算更精确;



