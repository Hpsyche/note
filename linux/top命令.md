## top

top命令是Linux下常用的性能分析工具，能够实时显示系统中各个进程的资源占用状况，类似于Windows的任务管理器。

## MyVM

![](D:\Work\TyporaNotes\note\linux\MYVM1.png)

第一行：

* 当前时间、系统已运行时间、当前用户登录数量、最近5、10、15分钟的平均负载

第二行：

* Tasks — 任务（进程），系统现在共有74个进程，其中处于运行中的有2个，72个在休眠（sleep），stoped状态的有0个，zombie状态（僵尸）的有0个。

第三行：

* CPU状态：
  - us, user： 运行(未调整优先级的) 用户进程的CPU时间
  - sy，system: 运行内核进程的CPU时间
  - ni，niced：运行已调整优先级的用户进程的CPU时间
  - wa，IO wait: 用于等待IO完成的CPU时间
  - hi：处理硬件中断的CPU时间
  - si: 处理软件中断的CPU时间
  - st：这个虚拟机被hypervisor偷去的CPU时间（译注：如果当前处于一个hypervisor下的vm，实际上hypervisor也是要消耗一部分CPU处理时间的）。

第四、五行：

* 第一行是物理内存使用，第二行是虚拟内存使用(交换空间)。

  * 509248k total — 物理内存总量（509M）

    495964k used — 使用中的内存总量（495M）

    13284k free — 空闲内存总量（13M）

    25364k buffers — 缓存的内存量 （25M）

  * swap交换分区

    492536k total — 交换区总量（492M）

    11856k used — 使用的交换区总量（11M）

    480680k free — 空闲交换区总量（480M）

    202224k cached — 缓冲的交换区总量（202M）

这里要说明的是不能用windows的内存概念理解这些数据，如果按windows的方式此台服务器“危矣”：8G的内存总量只剩下530M的可用内存。Linux的内存管理有其特殊性，复杂点需要一本书来说明，这里只是简单说点和我们传统概念（windows）的不同。

第六行是空行。

接下来是：各进程（任务）的状态监控

PID：进程ID，进程的唯一标识符

USER：进程所有者的实际用户名。

PR：进程的调度优先级。这个字段的一些值是'rt'。这意味这这些进程运行在实时态。

NI：进程的nice值（优先级）。越小的值意味着越高的优先级。**负值表示高优先级，正值表示低优先级**

VIRT：进程使用的虚拟内存。进程使用的虚拟内存总量，单位kb。VIRT=SWAP+RES

RES：驻留内存大小。驻留内存是任务使用的非交换物理内存大小。进程使用的、未被换出的物理内存大小，单位kb。RES=CODE+DATA

SHR：SHR是进程使用的共享内存。共享内存大小，单位kb

S：这个是进程的状态。它有以下不同的值:

- D - 不可中断的睡眠态。
- R – 运行态
- S – 睡眠态
- T – 被跟踪或已停止
- Z – 僵尸态

%CPU：自从上一次更新时到现在任务所使用的CPU时间百分比。

%MEM：进程使用的可用物理内存百分比。

TIME+：**任务启动后到现在所使用的全部CPU时间，精确到百分之一秒。**

COMMAND：运行进程所使用的命令。进程名称（命令名/命令行）

还有许多在默认情况下不会显示的输出，它们可以显示进程的页错误、有效组和组ID和其他更多的信息。